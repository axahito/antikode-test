"A date string with format `Y-m-d`, e.g. `2011-05-23`."
scalar Date @scalar(class: "Nuwave\\Lighthouse\\Schema\\Types\\Scalars\\Date")

"A datetime string with format `Y-m-d H:i:s`, e.g. `2018-05-23 13:43:32`."
scalar DateTime @scalar(class: "Nuwave\\Lighthouse\\Schema\\Types\\Scalars\\DateTime")

type Query {
    brands: [Brand!]! @all
    brand(id: ID! @eq): Brand @find
    outlets: [Outlet!]! @all
    outlet(id: ID! @eq): Outlet! @find
    products: [Product!]! @all
    product(id: ID! @eq): Product! @find
}

type Mutation {
    createBrand(
        brand: InputBrand @spread
    ): Brand @create
    updateBrand(
        id: ID!
        brand: InputBrand @spread
    ): Brand @update
    createOutlet(
        outlet: InputOutlet @spread
    ): Outlet @field(resolver: "App\\GraphQL\\Mutations\\OutletMutator@create")
    updateOutlet(
        id: ID!
        outlet: InputOutlet @spread
    ): Outlet @field(resolver: "App\\GraphQL\\Mutations\\OutletMutator@update")
    createProduct(
        product: InputProduct @spread
    ): Product @create
    updateProduct(
        id: ID!
        product: InputProduct @spread
    ): Product @update
}

type Brand {
    id: ID!
    name: String!
    logo: String
    banner: String
    outlets: [Outlet!] @hasMany
    products: [Product!] @hasMany
}

input InputBrand {
    name: String!
    logo: String
    banner: String
}

type Outlet {
    id: ID!
    name: String!
    address: String!
    position: Position! @method(name: "getPosition")
    picture: String
    brand: Brand! @belongsTo
}

input InputOutlet {
    brand_id: ID!
    name: String!
    address: String!
    picture: String
    lat: Float
    lng: Float
}

type Product {
    id: ID!
    name: String!
    price: Int!
    picture: String
    brand: Brand! @belongsTo
}

input InputProduct {
    brand_id: ID!
    name: String!
    price: Int!
    picture: String
}

type Position {
    lat: Float!
    lng: Float!
}
